# -*- coding: utf-8 -*-
import numpy as np
import re
from collections import Counter, defaultdict
from scipy.sparse import csr_matrix
from sklearn.preprocessing import normalize
from konlpy.tag import Komoran

def remove_emoji(sent):
    emoji_pattern = re.compile("["
            u"\U00010000-\U0010FFFF" 
                               "]+", flags=re.UNICODE)
    return emoji_pattern.sub(r'', sent) 

def split_diary(diary):
    sent_list = []
    for sents in diary:
        sents = re.sub(r'\n', ' ', sents)
        sents = re.sub(r'\r', ' ', sents)
        sents = remove_emoji(sents)
        sent_list += [sent.strip() for sent in sents.split('.') if sent]
    return sent_list

def scan_vocabulary(sent_list, tokenize, min_count):
    counter = Counter(w for sent in sent_list for w in tokenize(sent))
    counter = {w:c for w,c in counter.items() if c >= min_count}
    idx_to_vocab = [w for w, _ in sorted(counter.items(), key=lambda x:-x[1])]
    vocab_to_idx = {vocab:idx for idx, vocab in enumerate(idx_to_vocab)}
    return idx_to_vocab, vocab_to_idx

def dict_to_mat(d, n_rows, n_cols):
    rows, cols, data = [], [], []
    for (i, j), v in d.items():
        rows.append(i)
        cols.append(j)
        data.append(v)
    return csr_matrix((data, (rows, cols)), shape=(n_rows, n_cols))

def cooccurrence(tokens, vocab_to_idx, window, min_cooccurrence):
    counter = defaultdict(int)
    for s, tokens_i in enumerate(tokens):
        vocabs = [vocab_to_idx[w] for w in tokens_i if w in vocab_to_idx]
        n = len(vocabs)
        for i, v in enumerate(vocabs):
            if window <= 0:
                b, e = 0, n
            else:
                b = max(0, i - window)
                e = min(i + window, n)
            for j in range(b, e):
                if i == j:
                    continue
                counter[(v, vocabs[j])] += 1
                counter[(vocabs[j], v)] += 1
    counter = {k:v for k,v in counter.items() if v >= min_cooccurrence}
    n_vocabs = len(vocab_to_idx)
    return dict_to_mat(counter, n_vocabs, n_vocabs)

def word_graph(sent_list, tokenize, min_count, window, min_cooccurrence):
    idx_to_vocab, vocab_to_idx = scan_vocabulary(sent_list, tokenize, min_count)
    tokens = [tokenize(sent) for sent in sent_list]
    g = cooccurrence(tokens, vocab_to_idx, window, min_cooccurrence)
    return g, idx_to_vocab

def pagerank(x, df=0.85, max_iter=30):
    assert 0 < df < 1

    # initialize
    A = normalize(x, axis=0, norm='l1')
    R = np.ones(A.shape[0]).reshape(-1,1)
    bias = (1 - df) * np.ones(A.shape[0]).reshape(-1,1)

    # iteration
    for _ in range(max_iter):
        R = df * (A * R) + bias

    return R

komoran = Komoran()
def komoran_tokenize(sent):
    words = komoran.pos(sent, join=False)
    words = [w for w, p in words if (p == 'NNG' or p == 'NNP' or p == 'XR' or p == 'VA')]
    # NNG = ì¼ë°˜ëª…ì‚¬, #NNP = ê³ ìœ ëª…ì‚¬, XR = ì–´ê·¼, VV = ë™ì‚¬, VA = í˜•ìš©ì‚¬
    return words

def textrank_keyword(diary, min_count = 2, window = -1, min_cooccurrence = 2, tokenize=komoran_tokenize, df=0.85, max_iter=30, topk=5):
    sent_list = split_diary(diary)
    g, idx_to_vocab = word_graph(sent_list, tokenize, min_count, window, min_cooccurrence)
    R = pagerank(g, df, max_iter).reshape(-1)
    idxs = R.argsort()[-topk:]
    keywords = [(idx_to_vocab[idx], R[idx]) for idx in reversed(idxs)]
    return keywords

if __name__ == "__main__":
    diary = [
    "ì•„ë‹ˆ ì´ê±° ì¤„ ê°„ê²©ì€ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ì•Œì•„ë´ì•¼ê² ì–´\r\n\r\nê·¸ëž˜ì„œ ì´ë ‡ê²Œ ì¨ë„ ë””ë¹„ì— ì €ìž¥ì´ ë˜ì–´ì•¼ í•˜ëŠ”ë° ê·¸ë ‡ê²Œ ë ê¹Œ??\r\n\r\nê·¸ë ‡ê²Œ ëìœ¼ë©´ ì¢‹ê² ë‹¤.", 
    "ì´ë ‡ê²Œ í•˜ëŠ” ê²ƒì´ ë§žëŠ” ê²ƒì¸",
    "ì¢‹ì€ê¸°íšŒë¥¼ ì–»ì–´ ê°ì‚¬í•˜ê²Œë„ GVì‹œì‚¬ë¡œ ë¯¸ë¦¬ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤..! ë‹¤ì‹œ í•œë²ˆ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤ ðŸ™‡\u200dâ™‚ï¸  ì¼ë‹¨ ì˜í™”ì˜ ì†Œê°ì€ ë°•ì°¬ìš± ê°ë…ë‹˜ì˜ ì˜í™”ê°™ìœ¼ë©´ì„œë„ ì•„ë‹Œê±°ê°™ì€ ê·¸ ì‚¬ì´ì—ì„œ ë‚˜ì˜¤ëŠ” ë¯¸ë¬˜í•¨ì´ ì£¼ëŠ” ì§œë¦¿í•¨ì´ ì¸ìƒê¹Šì€ìž‘í’ˆì´ì—ˆìŠµë‹ˆë‹¤! \r\n\r\n ì˜í™”ì—ì„œ ê·¸ë ¤ì§€ëŠ” ì£¼ë„ê¶Œì„ í™•ì‹¤í•˜ê²Œ ëºê¸´ê±°ê°™ì€ ë‚¨ìžì™€ í™•ì‹¤í•˜ê²Œ ìž¡ì€ê±°ê°™ì€ ì—¬ìžì˜ ê´€ê³„ë¥¼ í‰ì†Œ ì˜í™”ë“¤ì²˜ëŸ¼ ë…¸ê³¨ì ìœ¼ë¡œ ê·¸ë¦¬ì§€ì•Šê³  ë¯¸ë¬˜í•œ ì„ ì„ ê·¸ë¦¬ë©° ì§„í–‰ë˜ëŠ”ë° ë§¤í˜¹ì ì¸ ë‘ ë°°ìš°ë‹˜ì´ ì´ë„ëŠ” ê·¸ ë¯¸ë¬˜í•œ í…ì…˜ì´ ì°¸ ì¢‹ì•˜ìŠµë‹ˆë‹¤.(ìš°ë¦¬ ê°ë…ë‹˜ ì—­ì‹œ ë°°ìš°ì‹  ë³€íƒœêµ¬ë‚˜ ì‹¶ì—ˆë„¤ìš” ã…Žã…Ž)\r\n\r\në°•í•´ì¼, íƒ•ì›¨ì´ ë°°ìš°ë‹˜ì´ ë¿œì–´ë‚´ëŠ” ê³¨ì ¸ìŠ¤í•œ ì•„ìš°ë¼ê°€ ì´ ì˜í™”ë¥¼ ë” ê³ ê¸‰ì§€ê²Œ ë§Œë“¤ì–´ì£¼ê³  ê·¸ëŸ° ë°•í•´ì¼, íƒ•ì›¨ì´ ë‘ ë°°ìš°ë‹˜ì´ ì´ë„ëŠ” ì„œì‚¬ì— ë¶„ìœ„ê¸°ë¥¼ ë„ì–´ì£¼ëŠ” ë¹›ë‚˜ëŠ” ì¡°ì—°ë°°ìš°ë‹˜ ì—°ê¸°ë„ ì¼í’ˆì´ì˜€ìŠµë‹ˆë‹¤!ì›ëž˜ ë°•ê°ë…ë‹˜ ìž‘í’ˆë“¤ì˜ ëŒ€ì‚¬ë“¤ì„ ì¢‹ì•„í•˜ëŠ”ë° ìš”ë²ˆ ì˜í™”ëŠ” ìœ ë… ì´ìƒí•˜ê²Œ ëŒë¦¬ë„¤ìš”.\r\n\r\n ë‹¨ì–´ ì¡°í•©ë“¤ì´ ì°¸ ìž¬ë°Œì—ˆì–´ìš”. (ë§ë„ì•ˆë˜ê²Œ ì›ƒê¸´ ëŒ€ì‚¬ë“¤ë„ ìžˆì—ˆê³ ìš”) ðŸ˜‚ë¯¸ìž¥ì„¼ ê·¸ëƒ¥ ë­ ë§ì´ í•„ìš”í•œê°€ìš”.. ì•„ ê·¸ëƒ¥ ë°•ì°¬ìš± ê°ë…ë‹˜ ì˜í™”ë„¤ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì˜ìƒ ì†Œí’ˆ ë°°ê²½ í•˜ë‚˜í•˜ë‚˜ ì§„ì§œ ê²½ì•…ìŠ¤ëŸ¬ìš¸ì •ë„ë¡œ ì™„ë²½ì— ê°€ê¹Œì› ìŠµë‹ˆë‹¤..ê·¸ë¦¬ê³  ì• í”Œì›Œì¹˜ë‚˜ ì „ìžê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œí€€ìŠ¤ë“¤ì´ ë§Žì€ë° ë¶€ì¡°í™”ì† ì¡°í™”ë¼ í•´ì•¼í• ê¹Œìš”? ì•ˆì–´ìš¸ë¦¬ë©´ì„œ ì–´ìš¸ë¦¬ëŠ” ì‹ ê¸°í•¨ì„ ë§Žì´ ë°›ì•˜ìŠµë‹ˆë‹¤",
    "ì¢‹ì€ê¸°íšŒë¥¼ ì–»ì–´ ê°ì‚¬í•˜ê²Œë„ GVì‹œì‚¬ë¡œ ë¯¸ë¦¬ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤..! ë‹¤ì‹œ í•œë²ˆ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤ ðŸ™‡\u200dâ™‚ï¸  ì¼ë‹¨ ì˜í™”ì˜ ì†Œê°ì€ ë°•ì°¬ìš± ê°ë…ë‹˜ì˜ ì˜í™”ê°™ìœ¼ë©´ì„œë„ ì•„ë‹Œê±°ê°™ì€ ê·¸ ì‚¬ì´ì—ì„œ ë‚˜ì˜¤ëŠ” ë¯¸ë¬˜í•¨ì´ ì£¼ëŠ” ì§œë¦¿í•¨ì´ ì¸ìƒê¹Šì€ìž‘í’ˆì´ì—ˆìŠµë‹ˆë‹¤! \r\n\r\n ì˜í™”ì—ì„œ ê·¸ë ¤ì§€ëŠ” ì£¼ë„ê¶Œì„ í™•ì‹¤í•˜ê²Œ ëºê¸´ê±°ê°™ì€ ë‚¨ìžì™€ í™•ì‹¤í•˜ê²Œ ìž¡ì€ê±°ê°™ì€ ì—¬ìžì˜ ê´€ê³„ë¥¼ í‰ì†Œ ì˜í™”ë“¤ì²˜ëŸ¼ ë…¸ê³¨ì ìœ¼ë¡œ ê·¸ë¦¬ì§€ì•Šê³  ë¯¸ë¬˜í•œ ì„ ì„ ê·¸ë¦¬ë©° ì§„í–‰ë˜ëŠ”ë° ë§¤í˜¹ì ì¸ ë‘ ë°°ìš°ë‹˜ì´ ì´ë„ëŠ” ê·¸ ë¯¸ë¬˜í•œ í…ì…˜ì´ ì°¸ ì¢‹ì•˜ìŠµë‹ˆë‹¤.(ìš°ë¦¬ ê°ë…ë‹˜ ì—­ì‹œ ë°°ìš°ì‹  ë³€íƒœêµ¬ë‚˜ ì‹¶ì—ˆë„¤ìš” ã…Žã…Ž)\r\n\r\në°•í•´ì¼, íƒ•ì›¨ì´ ë°°ìš°ë‹˜ì´ ë¿œì–´ë‚´ëŠ” ê³¨ì ¸ìŠ¤í•œ ì•„ìš°ë¼ê°€ ì´ ì˜í™”ë¥¼ ë” ê³ ê¸‰ì§€ê²Œ ë§Œë“¤ì–´ì£¼ê³  ê·¸ëŸ° ë°•í•´ì¼, íƒ•ì›¨ì´ ë‘ ë°°ìš°ë‹˜ì´ ì´ë„ëŠ” ì„œì‚¬ì— ë¶„ìœ„ê¸°ë¥¼ ë„ì–´ì£¼ëŠ” ë¹›ë‚˜ëŠ” ì¡°ì—°ë°°ìš°ë‹˜ ì—°ê¸°ë„ ì¼í’ˆì´ì˜€ìŠµë‹ˆë‹¤!ì›ëž˜ ë°•ê°ë…ë‹˜ ìž‘í’ˆë“¤ì˜ ëŒ€ì‚¬ë“¤ì„ ì¢‹ì•„í•˜ëŠ”ë° ìš”ë²ˆ ì˜í™”ëŠ” ìœ ë… ì´ìƒí•˜ê²Œ ëŒë¦¬ë„¤ìš”.\r\n\r\n ë‹¨ì–´ ì¡°í•©ë“¤ì´ ì°¸ ìž¬ë°Œì—ˆì–´ìš”. (ë§ë„ì•ˆë˜ê²Œ ì›ƒê¸´ ëŒ€ì‚¬ë“¤ë„ ìžˆì—ˆê³ ìš”) ðŸ˜‚ë¯¸ìž¥ì„¼ ê·¸ëƒ¥ ë­ ë§ì´ í•„ìš”í•œê°€ìš”.. ì•„ ê·¸ëƒ¥ ë°•ì°¬ìš± ê°ë…ë‹˜ ì˜í™”ë„¤ ë°”ë¡œ ë‚˜ì˜µë‹ˆë‹¤. ì˜ìƒ ì†Œí’ˆ ë°°ê²½ í•˜ë‚˜í•˜ë‚˜ ì§„ì§œ ê²½ì•…ìŠ¤ëŸ¬ìš¸ì •ë„ë¡œ ì™„ë²½ì— ê°€ê¹Œì› ìŠµë‹ˆë‹¤..ê·¸ë¦¬ê³  ì• í”Œì›Œì¹˜ë‚˜ ì „ìžê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œí€€ìŠ¤ë“¤ì´ ë§Žì€ë° ë¶€ì¡°í™”ì† ì¡°í™”ë¼ í•´ì•¼í• ê¹Œìš”? ì•ˆì–´ìš¸ë¦¬ë©´ì„œ ì–´ìš¸ë¦¬ëŠ” ì‹ ê¸°í•¨ì„ ë§Žì´ ë°›ì•˜ìŠµë‹ˆë‹¤", 
    "ë§ˆì¹¨ë‚´... ì˜¬í•´ ê°€ìž¥ ê¸°ëŒ€í•˜ë˜ ì˜í™” í—¤ì–´ì§ˆ ê²°ì‹¬ì„ ë³´ì•˜ëŠ”ë°ìš”ê°ë…ë‹˜ì´ í•¨ê»˜í•˜ì‹œëŠ” GVì— ì°¸ì„í•  ìˆ˜ ìžˆì–´ì„œ ì˜ê´‘ì´ì—ˆìŠµë‹ˆë‹¤! ì´ëŸ° ê¸°íšŒë¥¼ ì£¼ì‹  ìµìŠ¤íŠ¸ë¦¼ ë¬´ë¹„ì— ì •ë§ ê°ì‚¬ë“œë ¤ìš” :)ì‚¬ì‹¤ ê±°ìž¥ì´ì‹  ê±´ ìµížˆ ì•Œê³  ìžˆì§€ë§Œ ì´ì „ì— ë°•ì°¬ìš± ê°ë…ë‹˜ì˜ ì˜í™”ë¥¼ í•œ íŽ¸ë„ ë³´ì§€ ì•Šì•˜ì—ˆì–´ìš” ì•„ë¬´ëž˜ë„ ìž”í˜¹ì„±ì´ë‚˜ ì„ ì •ì„± ë“±ì˜ ë¬¸ì œë¡œ ë„ì „ì„ í•˜ì§€ ëª»í–ˆì—ˆëŠ”ë° ì´ë²ˆì—” ì¡°ê¸ˆ ìˆœí•œ ë§›(?)ì´ë¼ê³  í•´ì„œ íŽ¸í•œ ë§ˆìŒìœ¼ë¡œ ë³´ëŸ¬ ê°ˆ ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤ ã…Žã…Žì˜í™”ê°€ ëë‚˜ê³ ì„œë„ ë§ëŸ¬ì˜ êµí–¥ê³¡ 5ë²ˆì´ ì—¬ìš´ìœ¼ë¡œ ê³„ì† ë‚¨ì•˜ëŠ”ë°ìš” ì˜í™” ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” ì£¼ì œ ìŒì•…ì´ë¼ê³  ìƒê°ë©ë‹ˆë‹¤GVì—ì„œ ê°ë…ë‹˜ê»˜ì„œ ì›Œë‚™ ìœ ëª…í•œ ë…¸ëž˜ë¼ ë„£ëŠëƒ ë§ˆëŠëƒë¡œ ê³ ë¯¼ì´ ë§Žì•˜ì§€ë§Œ ê²°êµ­ ì í•©í•œ ìŒì•…ì´ë¼ì„œ ë„£ìœ¼ì…¨ë‹¤ê³  í•˜ì…¨ëŠ”ë° íƒì›”í•œ ì„ íƒì´ì…¨ì–´ìš” ì•„ë¦„ë‹µì§€ë§Œ ì–´ë”˜ê°€ ê³ ë…í•˜ê³  ìš°ìš¸í•œ ì •ì„œê°€ ìž˜ ëŠê»´ì¡Œì–´ìš”", 
    "ë§ˆì¹¨ë‚´... ì˜¬í•´ ê°€ìž¥ ê¸°ëŒ€í•˜ë˜ ì˜í™” í—¤ì–´ì§ˆ ê²°ì‹¬ì„ ë³´ì•˜ëŠ”ë°ìš”ê°ë…ë‹˜ì´ í•¨ê»˜í•˜ì‹œëŠ” GVì— ì°¸ì„í•  ìˆ˜ ìžˆì–´ì„œ ì˜ê´‘ì´ì—ˆìŠµë‹ˆë‹¤! ì´ëŸ° ê¸°íšŒë¥¼ ì£¼ì‹  ìµìŠ¤íŠ¸ë¦¼ ë¬´ë¹„ì— ì •ë§ ê°ì‚¬ë“œë ¤ìš” :)ì‚¬ì‹¤ ê±°ìž¥ì´ì‹  ê±´ ìµížˆ ì•Œê³  ìžˆì§€ë§Œ ì´ì „ì— ë°•ì°¬ìš± ê°ë…ë‹˜ì˜ ì˜í™”ë¥¼ í•œ íŽ¸ë„ ë³´ì§€ ì•Šì•˜ì—ˆì–´ìš” ì•„ë¬´ëž˜ë„ ìž”í˜¹ì„±ì´ë‚˜ ì„ ì •ì„± ë“±ì˜ ë¬¸ì œë¡œ ë„ì „ì„ í•˜ì§€ ëª»í–ˆì—ˆëŠ”ë° ì´ë²ˆì—” ì¡°ê¸ˆ ìˆœí•œ ë§›(?)ì´ë¼ê³  í•´ì„œ íŽ¸í•œ ë§ˆìŒìœ¼ë¡œ ë³´ëŸ¬ ê°ˆ ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤ ã…Žã…Žì˜í™”ê°€ ëë‚˜ê³ ì„œë„ ë§ëŸ¬ì˜ êµí–¥ê³¡ 5ë²ˆì´ ì—¬ìš´ìœ¼ë¡œ ê³„ì† ë‚¨ì•˜ëŠ”ë°ìš” ì˜í™” ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” ì£¼ì œ ìŒì•…ì´ë¼ê³  ìƒê°ë©ë‹ˆë‹¤GVì—ì„œ ê°ë…ë‹˜ê»˜ì„œ ì›Œë‚™ ìœ ëª…í•œ ë…¸ëž˜ë¼ ë„£ëŠëƒ ë§ˆëŠëƒë¡œ ê³ ë¯¼ì´ ë§Žì•˜ì§€ë§Œ ê²°êµ­ ì í•©í•œ ìŒì•…ì´ë¼ì„œ ë„£ìœ¼ì…¨ë‹¤ê³  í•˜ì…¨ëŠ”ë° íƒì›”í•œ ì„ íƒì´ì…¨ì–´ìš” ì•„ë¦„ë‹µì§€ë§Œ ì–´ë”˜ê°€ ê³ ë…í•˜ê³  ìš°ìš¸í•œ ì •ì„œê°€ ìž˜ ëŠê»´ì¡Œì–´ìš”", 
    "ë§ˆì¹¨ë‚´... ì˜¬í•´ ê°€ìž¥ ê¸°ëŒ€í•˜ë˜ ì˜í™” í—¤ì–´ì§ˆ ê²°ì‹¬ì„ ë³´ì•˜ëŠ”ë°ìš”ê°ë…ë‹˜ì´ í•¨ê»˜í•˜ì‹œëŠ” GVì— ì°¸ì„í•  ìˆ˜ ìžˆì–´ì„œ ì˜ê´‘ì´ì—ˆìŠµë‹ˆë‹¤! ì´ëŸ° ê¸°íšŒë¥¼ ì£¼ì‹  ìµìŠ¤íŠ¸ë¦¼ ë¬´ë¹„ì— ì •ë§ ê°ì‚¬ë“œë ¤ìš” :)ì‚¬ì‹¤ ê±°ìž¥ì´ì‹  ê±´ ìµížˆ ì•Œê³  ìžˆì§€ë§Œ ì´ì „ì— ë°•ì°¬ìš± ê°ë…ë‹˜ì˜ ì˜í™”ë¥¼ í•œ íŽ¸ë„ ë³´ì§€ ì•Šì•˜ì—ˆì–´ìš” ì•„ë¬´ëž˜ë„ ìž”í˜¹ì„±ì´ë‚˜ ì„ ì •ì„± ë“±ì˜ ë¬¸ì œë¡œ ë„ì „ì„ í•˜ì§€ ëª»í–ˆì—ˆëŠ”ë° ì´ë²ˆì—” ì¡°ê¸ˆ ìˆœí•œ ë§›(?)ì´ë¼ê³  í•´ì„œ íŽ¸í•œ ë§ˆìŒìœ¼ë¡œ ë³´ëŸ¬ ê°ˆ ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤ ã…Žã…Žì˜í™”ê°€ ëë‚˜ê³ ì„œë„ ë§ëŸ¬ì˜ êµí–¥ê³¡ 5ë²ˆì´ ì—¬ìš´ìœ¼ë¡œ ê³„ì† ë‚¨ì•˜ëŠ”ë°ìš” ì˜í™” ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” ì£¼ì œ ìŒì•…ì´ë¼ê³  ìƒê°ë©ë‹ˆë‹¤GVì—ì„œ ê°ë…ë‹˜ê»˜ì„œ ì›Œë‚™ ìœ ëª…í•œ ë…¸ëž˜ë¼ ë„£ëŠëƒ ë§ˆëŠëƒë¡œ ê³ ë¯¼ì´ ë§Žì•˜ì§€ë§Œ ê²°êµ­ ì í•©í•œ ìŒì•…ì´ë¼ì„œ ë„£ìœ¼ì…¨ë‹¤ê³  í•˜ì…¨ëŠ”ë° íƒì›”í•œ ì„ íƒì´ì…¨ì–´ìš” ì•„ë¦„ë‹µì§€ë§Œ ì–´ë”˜ê°€ ê³ ë…í•˜ê³  ìš°ìš¸í•œ ì •ì„œê°€ ìž˜ ëŠê»´ì¡Œì–´ìš”", 
    "ë§ˆì¹¨ë‚´... ì˜¬í•´ ê°€ìž¥ ê¸°ëŒ€í•˜ë˜ ì˜í™” í—¤ì–´ì§ˆ ê²°ì‹¬ì„ ë³´ì•˜ëŠ”ë°ìš”ê°ë…ë‹˜ì´ í•¨ê»˜í•˜ì‹œëŠ” GVì— ì°¸ì„í•  ìˆ˜ ìžˆì–´ì„œ ì˜ê´‘ì´ì—ˆìŠµë‹ˆë‹¤! \r\nì´ëŸ° ê¸°íšŒë¥¼ ì£¼ì‹  ìµìŠ¤íŠ¸ë¦¼ ë¬´ë¹„ì— ì •ë§ ê°ì‚¬ë“œë ¤ìš” :)ì‚¬ì‹¤ ê±°ìž¥ì´ì‹  ê±´ ìµížˆ ì•Œê³  ìžˆì§€ë§Œ ì´ì „ì— ë°•ì°¬ìš± ê°ë…ë‹˜ì˜ ì˜í™”ë¥¼ í•œ íŽ¸ë„ ë³´ì§€ ì•Šì•˜ì—ˆì–´ìš” \r\nì•„ë¬´ëž˜ë„ ìž”í˜¹ì„±ì´ë‚˜ ì„ ì •ì„± ë“±ì˜ ë¬¸ì œë¡œ ë„ì „ì„ í•˜ì§€ ëª»í–ˆì—ˆëŠ”ë° ì´ë²ˆì—” ì¡°ê¸ˆ ìˆœí•œ ë§›(?)ì´ë¼ê³  í•´ì„œ íŽ¸í•œ ë§ˆìŒìœ¼ë¡œ ë³´ëŸ¬ ê°ˆ ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤ ã…Žã…Ž\r\nì˜í™”ê°€ ëë‚˜ê³ ì„œë„ ë§ëŸ¬ì˜ êµí–¥ê³¡ 5ë²ˆì´ ì—¬ìš´ìœ¼ë¡œ ê³„ì† ë‚¨ì•˜ëŠ”ë°ìš” ì˜í™” ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” ì£¼ì œ ìŒì•…ì´ë¼ê³  ìƒê°ë©ë‹ˆë‹¤GVì—ì„œ ê°ë…ë‹˜ê»˜ì„œ ì›Œë‚™ ìœ ëª…í•œ\r\n ë…¸ëž˜ë¼ ë„£ëŠëƒ ë§ˆëŠëƒë¡œ ê³ ë¯¼ì´ ë§Žì•˜ì§€ë§Œ ê²°êµ­ ì í•©í•œ ìŒì•…ì´ë¼ì„œ ë„£ìœ¼ì…¨ë‹¤ê³  í•˜ì…¨ëŠ”ë° íƒì›”í•œ ì„ íƒì´ì…¨ì–´ìš” ì•„ë¦„ë‹µì§€ë§Œ ì–´ë”˜ê°€ ê³ ë…í•˜ê³  ìš°ìš¸í•œ ì •ì„œê°€ ìž˜ ëŠê»´ì¡Œì–´ìš”", 
    "ì•„ ì´ê±° ì •ë§ íž˜ë“¤ë‹¤ì•„ ì´ê±° ì •ë§ íž˜ë“¤ë‹¤ì•„ ì´ê±° ì •ë§ íž˜ë“¤ë‹¤ì•„ ì´ê±° ì •ë§ íž˜ë“¤ë‹¤", 
    "ê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€ê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€\n\nê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€ê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€\n\nê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€ê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€\n\nê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€ê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€\n\n", 
    "ê³¼ì—° ë‚˜ëŠ” date ë¯¸ë¡œì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìžˆëŠ” ê²ƒì¸ê°€. ì´ë²ˆì— ì„±ê³µí•˜ë©´ ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ê±° í•´ì•¼ì§€"
    ]
    keywords = textrank_keyword(diary)
    keyword_list = [i for i, _ in keywords]
    print(keyword_list)